
// This example requires the Visualization library. Include the libraries=visualization
// parameter when you first load the API. For example:
// <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCnFhWiWZdALtdAg3CYy8-YnmXXq_f6uzE&libraries=visualization">

var map, heatmap, locations =[], Path;
gps = [{'lat': '50.9205490280862', 'code': 'SH0', 'lon': '-1.46363686588104'}, {'lat': '50.8321487360948', 'code': 'AD1', 'lon': '-0.27749852601479'}, {'lat': '51.540444', 'code': 'BG3', 'lon': '0.074418'}, {'lat': '51.563752', 'code': 'BG1', 'lon': '0.177891'}, {'lat': '51.529389', 'code': 'BG2', 'lon': '0.132857'}, {'lat': '51.591901', 'code': 'BN2', 'lon': '-0.205992'}, {'lat': '51.6008848453589', 'code': 'BN3', 'lon': '-0.172297542087178'}, {'lat': '51.614675', 'code': 'BN1', 'lon': '-0.176607'}, {'lat': '51.5787292983549', 'code': 'BA1', 'lon': '0.45060774010083'}, {'lat': '51.4788023547334', 'code': 'BX5', 'lon': '0.133873839062683'}, {'lat': '51.4906102082147', 'code': 'BX2', 'lon': '0.158914493927518'}, {'lat': '51.4906102082147', 'code': 'BX0', 'lon': '0.158914493927518'}, {'lat': '51.4946486813055', 'code': 'BQ7', 'lon': '0.137279111232178'}, {'lat': '51.4946486813055', 'code': 'BQ8', 'lon': '0.137279111232178'}, {'lat': '51.477670796298', 'code': 'BX4', 'lon': '0.190836225974902'}, {'lat': '51.477670796298', 'code': 'BQ6', 'lon': '0.190836225974902'}, {'lat': '51.4781935083933', 'code': 'BQ5', 'lon': '0.187404883999095'}, {'lat': '51.4659832746662', 'code': 'BX1', 'lon': '0.184877126994369'}, {'lat': '51.4659832746662', 'code': 'BX9', 'lon': '0.184877126994369'}, {'lat': '51.457159', 'code': 'BX7', 'lon': '0.195294'}, {'lat': '51.457159', 'code': 'BX6', 'lon': '0.195294'}, {'lat': '51.456887', 'code': 'BX8', 'lon': '0.194582'}, {'lat': '51.510808', 'code': 'BX3', 'lon': '0.121617'}, {'lat': '51.4568546603969', 'code': 'BQ3', 'lon': '0.194546362638148'}, {'lat': '51.4568546603969', 'code': 'BQ4', 'lon': '0.194546362638148'}, {'lat': '51.4568546603969', 'code': 'BQ2', 'lon': '0.194546362638148'}, {'lat': '51.4568546603969', 'code': 'BQ1', 'lon': '0.194546362638148'},
 {'lat': '51.5370800298103', 'code': 'BT3', 'lon': '-0.249273425299457'}, {'lat': '51.552476', 'code': 'BT4', 'lon': '-0.258089'}, {'lat': '51.5524326273922', 'code': 'BT2', 'lon': '-0.260338843869077'}, {'lat': '51.537799', 'code': 'BT6', 'lon': '-0.247793'}, {'lat': '51.589618', 'code': 'BT1', 'lon': '-0.275519'}, {'lat': '51.552656', 'code': 'BT5', 'lon': '-0.248774'}, {'lat': '51.534718', 'code': 'BT7', 'lon': '-0.196664'}, {'lat': '51.618686', 'code': 'BW1', 'lon': '0.307746'}, {'lat': '50.8272230188876', 'code': 'BH7', 'lon': '-0.141705374326714'}, {'lat': '50.8364452777321', 'code': 'BH6', 'lon': '-0.12509151541646'}, {'lat': '50.833534289066', 'code': 'BH5', 'lon': '-0.138188375508588'}, {'lat': '50.8379482615349', 'code': 'BH9', 'lon': '-0.140895898870729'}, {'lat': '50.8233386748547', 'code': 'BH1', 'lon': '-0.137245101690022'}, {'lat': '50.850404', 'code': 'BH3', 'lon': '-0.215915'}, {'lat': '50.8277372185745', 'code': 'BH2', 'lon': '-0.170254840548713'},
{'lat': '50.8407255326205', 'code': 'BH0', 'lon': '-0.147574894627678'}, {'lat': '50.8701837148724', 'code': 'BH8', 'lon': '-0.104749938144347'}, {'lat': '51.522287', 'code': 'BL0', 'lon': '-0.125848'}, {'lat': '51.5277066194645', 'code': 'CD9', 'lon': '-0.129053205282516'}, {'lat': '51.5173675146177', 'code': 'IM1', 'lon': '-0.1201947113171'}, {'lat': '51.515532', 'code': 'CD3', 'lon': '-0.127027'}, {'lat': '51.518846', 'code': 'CD4', 'lon': '-0.12034'}, {'lat': '51.518846', 'code': 'CD5', 'lon': '-0.12034'}, {'lat': '51.544219', 'code': 'CD1', 'lon': '-0.175284'}, {'lat': '51.520955', 'code': 'CP1', 'lon': '0.594919'}, {'lat': '51.554064', 'code': 'CP2', 'lon': '0.60606'}, {'lat': '51.7246085042838', 'code': 'CB4', 'lon': '0.483889615291595'}, {'lat': '51.771366209587', 'code': 'CB3', 'lon': '0.411210699839304'}, {'lat': '51.7348580046953', 'code': 'CB1', 'lon': '0.459220894545019'}, {'lat': '51.7369737900902', 'code': 'CB2', 'lon': '0.484321588444547'}, {'lat': '50.827304', 'code': 'CI1', 'lon': '-0.782009'}, {'lat': '51.001188', 'code': 'AR1', 'lon': '-0.684578'}, {'lat': '50.8401059726033', 'code': 'CI4', 'lon': '-0.780288953021259'}, {'lat': '51.520225273171', 'code': 'CT4', 'lon': '-0.0961060474176381'}, {'lat': '51.5145253362314', 'code': 'CT2', 'lon': '-0.104515626337876'}, {'lat': '51.511491', 'code': 'CT1', 'lon': '-0.095807'}, {'lat': '51.513847178423', 'code': 'CT3', 'lon': '-0.077765681752'}, {'lat': '51.5095436853913', 'code': 'CT8', 'lon': '-0.0873571979556188'}, {'lat': '51.510499', 'code': 'CT6', 'lon': '-0.091634'}, {'lat': '51.8886812267727', 'code': 'CC2', 'lon': '0.913221031024663'}, {'lat': '51.8902645330155', 'code': 'CC1', 'lon': '0.833701036844169'}, {'lat': '51.8853134713473', 'code': 'CC3', 'lon': '0.903570938311254'},
{'lat': '51.158094', 'code': 'CA2', 'lon': '-0.150715'}, {'lat': '51.1082586092159', 'code': 'CA1', 'lon': '-0.168312914016901'}, {'lat': '51.3786978969719', 'code': 'CR6', 'lon': '-0.113796403332539'}, {'lat': '51.374312', 'code': 'CR4', 'lon': '-0.096503'}, {'lat': '51.411349', 'code': 'CR5', 'lon': '-0.12311'}, {'lat': '51.410039', 'code': 'CR8', 'lon': '-0.127523'}, {'lat': '51.3739530635378', 'code': 'CR9', 'lon': '-0.0967638468323854'}, {'lat': '51.362638', 'code': 'CR2', 'lon': '-0.117952'}, {'lat': '51.3622305655403', 'code': 'CR7', 'lon': '-0.117604507351392'}, {'lat': '51.40401', 'code': 'CR3', 'lon': '-0.098814'}, {'lat': '51.424812', 'code': 'CY1', 'lon': '-0.075449'}, {'lat': '51.7703117589898', 'code': 'DC3', 'lon': '-0.591364691385713'}, {'lat': '51.506628', 'code': 'EA2', 'lon': '-0.267934'}, {'lat': '51.5065947337762', 'code': 'EG1', 'lon': '-0.267964378025953'}, {'lat': '51.506628', 'code': 'EA0', 'lon': '-0.267934'}, {'lat': '51.5225651213491', 'code': 'EA9', 'lon': '-0.264922414775277'}, {'lat': '51.5133230466548', 'code': 'EA1', 'lon': '-0.307529015473585'}, {'lat': '51.5439296252862', 'code': 'EI0', 'lon': '-0.352801776049933'}, {'lat': '51.53085', 'code': 'EA6', 'lon': '-0.292488'}, {'lat': '51.518948', 'code': 'EA8', 'lon': '-0.265617'}, {'lat': '51.5189160348806', 'code': 'EI8', 'lon': '-0.265652052386222'}, {'lat': '51.508549', 'code': 'EA7', 'lon': '-0.392179'}, {'lat': '51.5085164816243', 'code': 'EI7', 'lon': '-0.392208459173292'}, {'lat': '51.5058699783726', 'code': 'EI2', 'lon': '-0.380241031512669'}, {'lat': '51.5236078191481', 'code': 'EI1', 'lon': '-0.265502631799754'}, {'lat': '50.762334', 'code': 'EB1', 'lon': '0.283593'}, {'lat': '50.805813', 'code': 'EB3', 'lon': '0.271643'}, {'lat': '51.613865', 'code': 'EN5', 'lon': '-0.125338'},
{'lat': '51.6450367266602', 'code': 'EN1', 'lon': '-0.0661800662229116'}, {'lat': '51.6524364979749', 'code': 'EN2', 'lon': '-0.084224624306898'}, {'lat': '51.614864007', 'code': 'EN4', 'lon': '-0.0507658363689'}, {'lat': '51.66864334727', 'code': 'EN7', 'lon': '-0.02200720557'}, {'lat': '51.6374794858769', 'code': 'EN3', 'lon': '-0.0442461406121593'}, {'lat': '51.490532', 'code': 'GN0', 'lon': '0.074003'}, {'lat': '51.472504', 'code': 'GR7', 'lon': '-0.012381'}, {'lat': '51.45258', 'code': 'GR4', 'lon': '0.070766'}, {'lat': '51.4346627060562', 'code': 'GN4', 'lon': '0.0642224671704697'}, {'lat': '51.492571', 'code': 'GN2', 'lon': '0.017697'}, {'lat': '51.486957', 'code': 'GN3', 'lon': '0.095111'}, {'lat': '51.4834490664601', 'code': 'GR5', 'lon': '0'}, {'lat': '51.456357', 'code': 'GR9', 'lon': '0.040725'}, {'lat': '51.486884', 'code': 'GR8', 'lon': '0.017901'}, {'lat': '51.4563', 'code': 'GB6', 'lon': '0.085606'}, {'lat': '51.4563', 'code': 'GB0', 'lon': '0.085606'}, {'lat': '51.558884', 'code': 'HK4', 'lon': '-0.056388'}, {'lat': '51.526454', 'code': 'HK6', 'lon': '-0.08491'}, {'lat': '51.4927663395234', 'code': 'HF1', 'lon': '-0.223601338284455'}, {'lat': '51.4964961786764', 'code': 'HF2', 'lon': '-0.220502981077703'}, {'lat': '51.5308895141056', 'code': 'HF3', 'lon': '-0.237011005357313'}, {'lat': '51.5045625671557', 'code': 'HF4', 'lon': '-0.224670007031603'}, {'lat': '51.5839769007709', 'code': 'HG4', 'lon': '-0.125400278484885'}, {'lat': '51.6059499474804', 'code': 'HG3', 'lon': '-0.123441120322547'}, {'lat': '51.599302', 'code': 'HG1', 'lon': '-0.068218'}, {'lat': '51.586029', 'code': 'HG2', 'lon': '-0.126486'}, {'lat': '51.588417', 'code': 'HR2', 'lon': '-0.362989'}, {'lat': '51.617327', 'code': 'HR1', 'lon': '-0.298775'}, {'lat': '50.850797', 'code': 'HT1', 'lon': '0.52221'},
{'lat': '50.850936016023', 'code': 'HT2', 'lon': '0.5136444126694'}, {'lat': '50.8805279945598', 'code': 'SM3', 'lon': '0.53686124499086'}, {'lat': '51.6065992159427', 'code': 'HV2', 'lon': '0.225359558329898'}, {'lat': '51.520787459334', 'code': 'HV1', 'lon': '0.205460705694044'}, {'lat': '51.572976', 'code': 'HV3', 'lon': '0.179079'}, {'lat': '51.4792338864893', 'code': 'LH2', 'lon': '-0.440530703282971'}, {'lat': '51.48878', 'code': 'LH0', 'lon': '-0.441627'}, {'lat': '51.526115', 'code': 'HI2', 'lon': '-0.459128'}, {'lat': '51.496309', 'code': 'HI0', 'lon': '-0.460826'}, {'lat': '51.481131839058', 'code': 'HI3', 'lon': '-0.423760323968'}, {'lat': '51.552264', 'code': 'HI1', 'lon': '-0.402779'}, {'lat': '50.9890625032173', 'code': 'HO5', 'lon': '-0.270257451266797'}, {'lat': '51.062592741468', 'code': 'HO2', 'lon': '-0.324817641639'}, {'lat': '50.9173964953363', 'code': 'HO4', 'lon': '-0.450878024184572'}, {'lat': '51.0886979531234', 'code': 'HO1', 'lon': '-0.320975990184025'}, {'lat': '51.0625661855506', 'code': 'HO3', 'lon': '-0.324847142653022'}, {'lat': '51.489321', 'code': 'HS3', 'lon': '-0.310002'}, {'lat': '51.489321', 'code': 'HS1', 'lon': '-0.310002'}, {'lat': '51.489398', 'code': 'HS5', 'lon': '-0.310081'}, {'lat': '51.492507', 'code': 'HS4', 'lon': '-0.257252'}, {'lat': '51.482982', 'code': 'HS2', 'lon': '-0.411895'}, {'lat': '51.4473877655456', 'code': 'HS9', 'lon': '-0.408732837243793'},
 {'lat': '51.463402', 'code': 'HS7', 'lon': '-0.427525'}, {'lat': '51.479129', 'code': 'HS6', 'lon': '-0.36476'}, {'lat': '51.500676298573', 'code': 'HS8', 'lon': '-0.284383168481281'}, {'lat': '51.557895', 'code': 'IS6', 'lon': '-0.106989'}, {'lat': '51.5322658877275', 'code': 'IS5', 'lon': '-0.104413186512037'}, {'lat': '51.5600403385285', 'code': 'IS4', 'lon': '-0.131679425163847'}, {'lat': '51.555378', 'code': 'IS2', 'lon': '-0.116146'}, {'lat': '51.5407003385595', 'code': 'IS1', 'lon': '-0.103269578193151'},
{'lat': '51.49550391', 'code': 'KC2', 'lon': '-0.178809464'}, {'lat': '51.49019756', 'code': 'KC5', 'lon': '-0.190863311'}, {'lat': '51.4894131144322', 'code': 'KG2', 'lon': '-0.193640886158949'}, {'lat': '51.4894131144322', 'code': 'KG1', 'lon': '-0.193640886158949'}, {'lat': '51.48743685', 'code': 'KC4', 'lon': '-0.168397129'}, {'lat': '51.49913951', 'code': 'KC3', 'lon': '-0.164337605'}, {'lat': '51.5210467476039', 'code': 'KC1', 'lon': '-0.213492139585065'}, {'lat': '51.52106551', 'code': 'KC7', 'lon': '-0.21344617'}, {'lat': '51.4942847451596', 'code': 'WE0', 'lon': '-0.199340350918702'}, {'lat': '51.3566466913867', 'code': 'KT1', 'lon': '-0.316770841962737'}, {'lat': '51.373553348648', 'code': 'A30', 'lon': '-0.291969827871431'}, {'lat': '51.4144307605309', 'code': 'KT2', 'lon': '-0.301706822060131'}, {'lat': '51.413691', 'code': 'KT3', 'lon': '-0.302269'}, {'lat': '51.379312', 'code': 'KT4', 'lon': '-0.281259'}, {'lat': '51.4854867739729', 'code': 'LB5', 'lon': '-0.124545234819213'}, {'lat': '51.464113541162', 'code': 'LB4', 'lon': '-0.11458102695123'}, {'lat': '51.444249', 'code': 'LB1', 'lon': '-0.121731'}, {'lat': '51.464866', 'code': 'LB3', 'lon': '-0.099161'}, {'lat': '51.4282131429499', 'code': 'LB6', 'lon': '-0.13186863879576'}, {'lat': '51.4849123099475', 'code': 'LB2', 'lon': '-0.125173736606014'}, {'lat': '50.874533515926', 'code': 'LS2', 'lon': '0.0099215038753'}, {'lat': '50.8045814997937', 'code': 'LS6', 'lon': '0.0594180318758693'}, {'lat': '50.8037078618686', 'code': 'LS4', 'lon': '0.0579603346739966'}, {'lat': '50.794129', 'code': 'LS1', 'lon': '-0.014575'}, {'lat': '50.8743641680228', 'code': 'LS5', 'lon': '0.0103548583119496'},
{'lat': '51.445468', 'code': 'LW1', 'lon': '-0.020266'}, {'lat': '51.4646910611736', 'code': 'LW4', 'lon': '-0.016068243204'}, {'lat': '51.4811412184719', 'code': 'LW3', 'lon': '-0.0456708566668043'}, {'lat': '51.474954', 'code': 'LW2', 'lon': '-0.039641'}, {'lat': '50.8985062038577', 'code': 'MP1', 'lon': '-1.44578806770638'}, {'lat': '50.8985062038577', 'code': 'MP3', 'lon': '-1.44578806770638'}, {'lat': '50.912965', 'code': 'MP2', 'lon': '-1.436635'}, {'lat': '', 'code': 'ME5', 'lon': ''}, {'lat': '', 'code': 'ME6', 'lon': ''}, {'lat': '51.4161384794862', 'code': 'ME2', 'lon': '-0.192230805042824'}, {'lat': '51.40105', 'code': 'ME1', 'lon': '-0.195929'}, {'lat': '51.3943415638', 'code': 'ME7', 'lon': '-0.165161044588'}, {'lat': '51.23545', 'code': 'MV3', 'lon': '-0.32499'}, {'lat': '51.305763613474', 'code': 'MV1', 'lon': '-0.343022284542111'}, {'lat': '51.3065866171517', 'code': 'MV2', 'lon': '-0.306264695888657'}, {'lat': '50.826958', 'code': 'NF2', 'lon': '-1.349945'}, {'lat': '50.833312', 'code': 'NF1', 'lon': '-1.391525'}, {'lat': '50.872564', 'code': 'NF5', 'lon': '-1.577085'}, {'lat': '50.8483100901838', 'code': 'NF3', 'lon': '-1.79898293402964'}, {'lat': '50.9174508575236', 'code': 'NF4', 'lon': '-1.48659001641455'}, {'lat': '51.537598', 'code': 'NM2', 'lon': '-0.002138'}, {'lat': '51.514764', 'code': 'NM1', 'lon': '0.011989'}, {'lat': '51.514727', 'code': 'NM3', 'lon': '0.014554'}, {'lat': '50.8282053073682', 'code': 'PO1', 'lon': '-1.06994447818715'}, {'lat': '51.464354', 'code': 'RD1', 'lon': '-0.9771'}, {'lat': '51.453119', 'code': 'RD2', 'lon': '-0.949941'}, {'lat': '51.4529847075166', 'code': 'RD0', 'lon': '-0.944461432664066'}, {'lat': '51.461963', 'code': 'RD3', 'lon': '-1.012509'}, {'lat': '51.593935', 'code': 'RB3', 'lon': '0.085516'}, {'lat': '51.57661', 'code': 'RB4', 'lon': '0.030858'}, {'lat': '51.5583461865157', 'code': 'RB2', 'lon': '0.0699915095238029'}, {'lat': '51.5694843315237', 'code': 'RB7', 'lon': '0.0829074748964946'}, {'lat': '51.569221', 'code': 'RB1', 'lon': '0.081821'},
{'lat': '51.595851', 'code': 'RB5', 'lon': '0.020087'}, {'lat': '51.165858475858', 'code': 'RG1', 'lon': '-0.167734107139'}, {'lat': '51.161508', 'code': 'RG2', 'lon': '-0.162928'}, {'lat': '51.1612605001364', 'code': 'RG6', 'lon': '-0.162410036780488'}, {'lat': '51.142082', 'code': 'RG3', 'lon': '-0.194181'}, {'lat': '51.237666', 'code': 'RG4', 'lon': '-0.206011'}, {'lat': '51.476168', 'code': 'RI2', 'lon': '-0.230427'}, {'lat': '51.4252560360937', 'code': 'TD5', 'lon': '-0.345608290872898'}, {'lat': '51.480189', 'code': 'RI1', 'lon': '-0.237335'}, {'lat': '51.4531422511004', 'code': 'RHG', 'lon': '-0.341218138106469'}, {'lat': '51.4243043441456', 'code': 'TD0', 'lon': '-0.345714576446947'}, {'lat': '51.6006753045779', 'code': 'RO2', 'lon': '0.591536676878398'}, {'lat': '51.5855666578907', 'code': 'RO1', 'lon': '0.604521242772868'},
{'lat': '50.845402', 'code': 'RY2', 'lon': '0.49292'}, {'lat': '50.938451', 'code': 'RY1', 'lon': '0.763915'}, {'lat': '51.305503', 'code': 'FB1', 'lon': '-0.781091'}, {'lat': '51.28879', 'code': 'ZV2', 'lon': '0.193401'}, {'lat': '51.289391', 'code': 'ZV1', 'lon': '0.201437'}, {'lat': '51.293759175', 'code': 'ZV3', 'lon': '0.195766572888'}, {'lat': '50.917806', 'code': 'SH4', 'lon': '-1.375582'}, {'lat': '50.9128368507853', 'code': 'SH3', 'lon': '-1.39963085070675'}, {'lat': '50.921744', 'code': 'SH2', 'lon': '-1.467165'}, {'lat': '50.8978927502029', 'code': 'SH5', 'lon': '-1.37924696681996'}, {'lat': '50.908158', 'code': 'SH1', 'lon': '-1.395776'}, {'lat': '51.5435262816468', 'code': 'SD1', 'lon': '0.674668595611693'}, {'lat': '51.4804994936467', 'code': 'SK5', 'lon': '-0.0595528932573422'}, {'lat': '51.4931557048667', 'code': 'SK6', 'lon': '-0.101527038274853'}, {'lat': '51.4929813788003', 'code': 'SK7', 'lon': '-0.0985378910481832'}, {'lat': '51.490548', 'code': 'SK1', 'lon': '-0.09661'}, {'lat': '51.4819456792926', 'code': 'SK2', 'lon': '-0.0627176235171689'}, {'lat': '51.8941453712101', 'code': 'UT4', 'lon': '0.21259369077346'}, {'lat': '49.7667866669653', 'code': 'SX1', 'lon': '-7.55715939721731'}, {'lat': '50.7933799217824', 'code': 'SU4', 'lon': '0.0504827633419067'}, {'lat': '51.1279620638594', 'code': 'SU5', 'lon': '-0.165432647685883'}, {'lat': '50.7987510301747', 'code': 'SM1', 'lon': '0.0539534804005503'}, {'lat': '51.094629', 'code': 'SU7', 'lon': '-0.324546'}, {'lat': '50.8001357152332', 'code': 'SU8', 'lon': '0.0555043284984506'}, {'lat': '51.1275333315135', 'code': 'SU9', 'lon': '-0.166192795182855'}, {'lat': '50.8067079308065', 'code': 'SX2', 'lon': '-0.702077678905855'}, {'lat': '49.7667866669653', 'code': 'SX3', 'lon': '-7.55715939721731'}, {'lat': '50.8328702119614', 'code': 'SX4', 'lon': '-0.267914614150272'}, {'lat': '50.8487033738032', 'code': 'SX5', 'lon': '0.51457571041646'}, {'lat': '50.8401845118684', 'code': 'SX6', 'lon': '-0.780059662704976'},
{'lat': '50.8029311077659', 'code': 'SX7', 'lon': '0.0520220935903264'}, {'lat': '50.8489251948435', 'code': 'SX8', 'lon': '-0.545356104270434'}, {'lat': '50.7973438519171', 'code': 'SX9', 'lon': '0.045490786692181'}, {'lat': '50.8002021409387', 'code': 'SM2', 'lon': '0.0532649476136664'}, {'lat': '50.8277240829444', 'code': 'SU1', 'lon': '-0.782997013116517'}, {'lat': '50.7770270688252', 'code': 'SU2', 'lon': '0.297592572969822'}, {'lat': '50.9890941150671', 'code': 'SU3', 'lon': '-0.272393592271977'}, {'lat': '50.8378750219026', 'code': 'SU6', 'lon': '-0.782804047114192'}, {'lat': '51.3835652277943', 'code': 'ST8', 'lon': '-0.1364178614733'}, {'lat': '51.389286904505', 'code': 'ST5', 'lon': '-0.141661524779893'}, {'lat': '51.365318', 'code': 'ST3', 'lon': '-0.165936'}, {'lat': '51.3771892138334', 'code': 'ST2', 'lon': '-0.222044077436931'}, {'lat': '51.365744', 'code': 'ST1', 'lon': '-0.195563'}, {'lat': '51.3858391292126', 'code': 'ST7', 'lon': '-0.136339857220486'}, {'lat': '51.3586596124998', 'code': 'ST4', 'lon': '-0.149723946604927'}, {'lat': '51.377923', 'code': 'ST6', 'lon': '-0.240414'}, {'lat': '51.7934662474003', 'code': 'TE1', 'lon': '1.1562312103883'}, {'lat': '51.7779742837066', 'code': 'TE0', 'lon': '1.04634518982586'}, {'lat': '51.4617571252861', 'code': 'TK4', 'lon': '0.357953197319231'}, {'lat': '51.477076', 'code': 'TK1', 'lon': '0.317938'}, {'lat': '51.478697', 'code': 'TK8', 'lon': '0.255133'}, {'lat': '51.478572549698', 'code': 'TK2', 'lon': '0.255673282805438'}, {'lat': '51.518162', 'code': 'TK3', 'lon': '0.439548'}, {'lat': '51.526737', 'code': 'TH3', 'lon': '-0.053869'}, {'lat': '51.5150461674013', 'code': 'TH4', 'lon': '-0.00841849265642741'}, {'lat': '51.5225294860844', 'code': 'TH2', 'lon': '-0.0421550991900347'}, {'lat': '51.4891342634', 'code': 'TH6', 'lon': '-0.0129769309432'}, {'lat': '51.510012', 'code': 'TH1', 'lon': '-0.019866'}, {'lat': '51.5405194915241', 'code': 'TH5', 'lon': '-0.033307388878'},
{'lat': '51.8988043942606', 'code': 'UT3', 'lon': '0.307568574302033'}, {'lat': '52.0205464219742', 'code': 'UT1', 'lon': '0.239932227889456'}, {'lat': '51.8681567817872', 'code': 'UT2', 'lon': '0.263655317647568'}, {'lat': '51.6251928602333', 'code': 'WL3', 'lon': '-0.0225973251092037'}, {'lat': '51.601718495597', 'code': 'WL4', 'lon': '-0.016498263136'}, {'lat': '51.562422', 'code': 'WL1', 'lon': '-0.004891'}, {'lat': '51.556257676576', 'code': 'WL5', 'lon': '-0.013629679065'}, {'lat': '51.564725703428', 'code': 'WL2', 'lon': '0.00399595335237289'}, {'lat': '51.4794395281222', 'code': 'WAA', 'lon': '-0.141786953606306'}, {'lat': '51.4548722085', 'code': 'WA1', 'lon': '-0.193003999857021'}, {'lat': '51.4564354037312', 'code': 'WA4', 'lon': '-0.191157408342927'}, {'lat': '51.4636903568111', 'code': 'WAC', 'lon': '-0.166713485994806'}, {'lat': '51.4650325059122', 'code': 'WA9', 'lon': '-0.215824580947572'}, {'lat': '51.463429', 'code': 'WA7', 'lon': '-0.215871'}, {'lat': '51.4637206047191', 'code': 'WA8', 'lon': '-0.215890144123119'}, {'lat': '51.4569204685076', 'code': 'WA3', 'lon': '-0.245562490498382'}, {'lat': '51.425284', 'code': 'WA6', 'lon': '-0.164452'}, {'lat': '51.429331', 'code': 'WAB', 'lon': '-0.166524'}, {'lat': '51.456962', 'code': 'WA2', 'lon': '-0.191074'}, {'lat': '50.938397', 'code': 'AR2', 'lon': '0.060765'}, {'lat': '50.7935424082046', 'code': 'LL1', 'lon': '0.180837727330647'}, {'lat': '51.4938505656999', 'code': 'BP0', 'lon': '-0.143808451030166'}, {'lat': '51.510205', 'code': 'WM4', 'lon': '-0.128177'}, {'lat': '51.5119769825798', 'code': 'WM5', 'lon': '-0.12162720332856'}, {'lat': '51.494681', 'code': 'WM0', 'lon': '-0.131938'}, {'lat': '51.52254', 'code': 'MY1', 'lon': '-0.15459'}, {'lat': '51.52254', 'code': 'MY7', 'lon': '-0.15459'}, {'lat': '51.5139287404213', 'code': 'WM6', 'lon': '-0.152792701881935'}, {'lat': '', 'code': 'WMZ', 'lon': ''}, {'lat': '51.511998', 'code': 'NB1', 'lon': '-0.116715'}, {'lat': '51.497066177578', 'code': 'WM8', 'lon': '-0.142438820740121'},
 {'lat': '51.4977331829735', 'code': 'WM9', 'lon': '-0.14424140916201'}, {'lat': '51.4992450135925', 'code': 'VS1', 'lon': '-0.131285173980659'}, {'lat': '51.5363854087616', 'code': 'MW4', 'lon': '-0.725480414494953'}, {'lat': '51.414941181381', 'code': 'MW3', 'lon': '-0.652429197866'}, {'lat': '51.480178972651', 'code': 'MW2', 'lon': '-0.62380842514'}, {'lat': '51.520894546995', 'code': 'MW1', 'lon': '-0.724024666515'}, {'lat': '50.8333963596274', 'code': 'WT1', 'lon': '-0.374489409400136'}, {'lat': '50.8330047430174', 'code': 'WT2', 'lon': '-0.379956200169679'}];


function getPlace(location){

}

function getLocations(){
  for( var i = 0 ; i < gps.length; i++){
    var lat = parseFloat(gps[i].lat);
    var lon = parseFloat(gps[i].lon);
    if(lat!==NaN||lon!==NaN){
      locations.push(new google.maps.LatLng(lat,lon));
    }
  }
}

function initMap() {
  map = new google.maps.Map(document.getElementById('map'), {
    zoom: 13,
    center: {lat: 51.485586, lng: -0.201658},
    mapTypeId: 'satellite'
  });
  getLocations();
  heatmap = new google.maps.visualization.HeatmapLayer({
    data: locations,
    map: map,
    radius: 50
  });
  heatmap.setMap(map);
  Path = new google.maps.Polyline({
    path: locations,
    geodesic: true,
    strokeColor: '#FF0000',
    strokeOpacity: 1.0,
    strokeWeight: 2
  });

  Path.setMap(map);
}


function addToPath(){
  getLocations();
  geocoder = new google.maps.Geocoder();
  geocoder.geocode( { 'address': document.getElementById("input").value}, function(results, status) {
    if (status == 'OK') {
      console.log(results[0].geometry.location.toString());
      locations.push(results[0].geometry.location);
      Path = new google.maps.Polyline({
        path: locations,
        geodesic: true,
        strokeColor: '#FF0000',
        strokeOpacity: 1.0,
        strokeWeight: 2
      });
      Path.setMap(map);

    } else {
      alert('Geocode was not successful for the following reason: ' + status);
    }
  });
}



// Heatmap data: 500 Points
function getPoints() {
  var geos = []

  console.log(geos.toString());
  return locations;
  // [
  //   new google.maps.LatLng(51.487470,-0.195757),
  //   new google.maps.LatLng(51.507879,-0.087732),
  //   new google.maps.LatLng(51.489594,-0.159344),
  // ];
}
